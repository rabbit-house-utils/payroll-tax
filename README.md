# 薪资税务计算器

一个静态网页应用，用于计算税前收入的可支配收入，并提供税务优化方案。

## 功能特性

- **收入计算**：精确计算月工资、年终奖、期权/股票的税后收入
- **五险一金**：自动计算社保和公积金缴费（基于社平工资的60%-300%）
- **专项附加扣除**：支持子女教育、住房贷款利息、住房租金、赡养老人等扣除项
- **四种方案对比**：
  - 基础方案（不转换）
  - 年终奖转月工资
  - 年终奖转期权
  - 双转换（同时转月工资和期权）
- **智能优化**：自动找出最优收入分配方案，最大化可支配收入
- **期权支持**：支持多批次期权归属计划，考虑边际税率效应

## 技术栈

- Vue 3 (Composition API)
- Vite
- 纯前端实现，无需后端服务

## 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产版本
npm run preview
```

## 部署

### GitHub Pages

1. 构建项目：
```bash
npm run build
```

2. 将 `dist` 目录部署到 GitHub Pages

3. 配置自定义域名（可选）：
   - 在仓库设置中配置自定义域名
   - 在 `dist` 目录添加 `CNAME` 文件

## 使用说明

### 基本输入

1. **月工资**：税前月工资金额
2. **年终奖**：年终奖金额
3. **社平工资**：当地社会平均工资（默认11937元/月）

### 专项附加扣除

提供两种输入方式（互斥）：

**方式1：勾选项目**
- 子女教育或婴幼儿照护：2000元/月/人
- 住房贷款利息：1000元/月
- 住房租金：1500元/月
- 赡养老人：3000元/月

注：住房贷款利息和住房租金不能同时享受

**方式2：直接输入总额**
- 直接输入每月专项附加扣除总额

### 高级选项

- **允许年终奖转月工资**：是否允许将部分年终奖转为月工资发放
- **允许年终奖转期权**：是否允许将部分年终奖转为期权
- **期权转换比例**：年终奖转期权的折扣比例（70%-90%）
- **收入类型**：选择期权或股票
- **期权归属计划**：配置期权的归属批次和年限

### 查看结果

**当前收入明细**
- 年度总收入构成
- 五险一金扣除明细
- 个人所得税明细
- 可支配收入和含公积金收入
- 月度收入明细

**四种方案对比**
- 对比四种方案的收入构成
- 显示转换金额（精确到元）
- 高亮显示最优方案
- 展示节税金额

**优化建议**
- 推荐最优方案
- 详细的调整建议
- 收益分析
- 注意事项

## 计算说明

### 社保和公积金

- **缴费基数** = min(max(月均收入, 社平工资×60%), 社平工资×300%)
- **社保比例**：养老8% + 医疗2% + 失业0.5% = 10.5%
- **公积金比例**：个人12%，双边24%
- 公积金个人缴纳金额取整到元

### 个人所得税

**月工资税**（累进税率）：
- 0-36000：3%
- 36000-144000：10%
- 144000-300000：20%
- 300000-420000：25%
- 420000-660000：30%
- 660000-960000：35%
- 960000以上：45%

**年终奖税**（单独计税，速算扣除数不同）：
- 使用专用税率表计算

**期权税**：
- 将多年归属的总额作为当年收入计算税款
- 每年分摊缴纳税款

### 优化算法

1. **粗搜索**：以1000元为步长遍历所有可能的转换金额
2. **细搜索**：在最优解附近以1元为步长精确搜索
3. **边际分析**：计算期权转换的边际税率
4. **多维优化**：同时优化年终奖转月工资和转期权两个维度

## 注意事项

1. 本计算器仅供参考，不构成税务建议
2. 实际操作请咨询公司HR和税务专业人士
3. 税务优化应在合法合规的前提下进行
4. 期权具有时间价值和不确定性，转换时需谨慎评估
5. 计算基于现行税法，税法变化可能影响结果

## 许可证

MIT License

## 联系方式

如有问题或建议，请通过 GitHub Issues 反馈。
